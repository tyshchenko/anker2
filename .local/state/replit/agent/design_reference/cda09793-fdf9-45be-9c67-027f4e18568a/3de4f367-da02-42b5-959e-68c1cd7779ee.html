<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Exchange Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/recharts@2.8.0/umd/Recharts.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <script>
    tailwind.config = {
      theme: {
        extend: {
          borderRadius: {
            lg: "var(--radius)",
            md: "calc(var(--radius) - 2px)",
            sm: "calc(var(--radius) - 4px)",
          },
          colors: {
            background: "var(--background)",
            foreground: "var(--foreground)",
            card: {
              DEFAULT: "var(--card)",
              foreground: "var(--card-foreground)",
            },
            popover: {
              DEFAULT: "var(--popover)",
              foreground: "var(--popover-foreground)",
            },
            primary: {
              DEFAULT: "var(--primary)",
              foreground: "var(--primary-foreground)",
            },
            secondary: {
              DEFAULT: "var(--secondary)",
              foreground: "var(--secondary-foreground)",
            },
            muted: {
              DEFAULT: "var(--muted)",
              foreground: "var(--muted-foreground)",
            },
            accent: {
              DEFAULT: "var(--accent)",
              foreground: "var(--accent-foreground)",
            },
            destructive: {
              DEFAULT: "var(--destructive)",
              foreground: "var(--destructive-foreground)",
            },
            border: "var(--border)",
            input: "var(--input)",
            ring: "var(--ring)",
            chart: {
              "1": "var(--chart-1)",
              "2": "var(--chart-2)",
              "3": "var(--chart-3)",
              "4": "var(--chart-4)",
              "5": "var(--chart-5)",
            }
          },
          fontFamily: {
            sans: ["Inter", "var(--font-sans)"],
            mono: ["ui-monospace", "SFMono-Regular", "var(--font-mono)"],
          }
        },
      }
    };
    </script>
    
    <style>
        :root {
            --background: hsl(222 84% 5%);
            --foreground: hsl(210 40% 98%);
            --card: hsl(222 84% 5%);
            --card-foreground: hsl(210 40% 98%);
            --popover: hsl(222 84% 5%);
            --popover-foreground: hsl(210 40% 98%);
            --primary: hsl(239 84% 67%);
            --primary-foreground: hsl(0 0% 100%);
            --secondary: hsl(217 32% 17%);
            --secondary-foreground: hsl(210 40% 98%);
            --muted: hsl(217 32% 17%);
            --muted-foreground: hsl(215 20% 65%);
            --accent: hsl(217 32% 17%);
            --accent-foreground: hsl(210 40% 98%);
            --destructive: hsl(0 84% 60%);
            --destructive-foreground: hsl(0 0% 100%);
            --border: hsl(217 32% 17%);
            --input: hsl(217 32% 17%);
            --ring: hsl(239 84% 67%);
            --radius: 0.75rem;
            --chart-1: hsl(173 58% 39%);
            --chart-2: hsl(12 76% 61%);
            --chart-3: hsl(197 37% 24%);
            --chart-4: hsl(43 74% 66%);
            --chart-5: hsl(27 87% 67%);
        }
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .chart-container {
            background: linear-gradient(135deg, hsl(222 84% 5%) 0%, hsl(217 32% 17%) 100%);
        }
        
        .price-up { color: hsl(142 72% 29%); }
        .price-down { color: hsl(0 84% 60%); }
        
        .trading-panel {
            box-shadow: inset 1px 0 0 hsl(217 32% 17%);
        }
        
        .mobile-menu {
            transform: translateX(-100%);
            transition: transform 0.3s ease-in-out;
        }
        
        .mobile-menu.open {
            transform: translateX(0);
        }
        
        @media (max-width: 1024px) {
            .desktop-sidebar {
                display: none;
            }
        }
        
        .ticker-scroll {
            animation: scroll 30s linear infinite;
        }
        
        @keyframes scroll {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
    </style>
</head>
<body class="bg-background text-foreground min-h-screen">
    <!-- Mobile Menu Overlay -->
    <div id="mobile-overlay" class="fixed inset-0 bg-black/50 z-40 lg:hidden hidden"></div>
    
    <!-- Mobile Sidebar -->
    <aside id="mobile-sidebar" class="mobile-menu fixed inset-y-0 left-0 z-50 w-64 bg-card border-r border-border lg:hidden">
        <!-- @COMPONENT: MobileSidebar -->
        <div class="flex h-full flex-col">
            <div class="flex items-center justify-between p-4 border-b border-border">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-chart-line text-primary-foreground text-sm"></i>
                    </div>
                    <span class="text-lg font-semibold">Exchange</span>
                </div>
                <button id="close-mobile-menu" class="text-muted-foreground hover:text-foreground">
                    <i class="fas fa-times text-lg"></i>
                </button>
            </div>
            
            <nav class="flex-1 p-4 space-y-1">
                <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg bg-secondary text-secondary-foreground">
                    <i class="fas fa-home w-5"></i>
                    <span>Home</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                    <i class="fas fa-compass w-5"></i>
                    <span>Explore</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                    <i class="fas fa-search w-5"></i>
                    <span>Search</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                    <i class="fas fa-chart-bar w-5"></i>
                    <span>Activity</span>
                </a>
                
                <div class="py-2">
                    <div class="h-px bg-border"></div>
                </div>
                
                <div class="px-3 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider">
                    Your Portfolio
                </div>
                <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                    <i class="fab fa-bitcoin w-5 text-orange-500"></i>
                    <span>Bitcoin</span>
                    <span class="ml-auto text-xs">0.0234</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                    <i class="fab fa-ethereum w-5 text-blue-400"></i>
                    <span>Ethereum</span>
                    <span class="ml-auto text-xs">1.247</span>
                </a>
            </nav>
            
            <div class="border-t border-border p-4 space-y-1">
                <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                    <i class="fas fa-users w-5"></i>
                    <span>Referrals</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                    <i class="fas fa-question-circle w-5"></i>
                    <span>Help</span>
                </a>
                <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                    <i class="fas fa-user w-5"></i>
                    <span>Profile</span>
                </a>
            </div>
        </div>
        <!-- @END_COMPONENT: MobileSidebar -->
    </aside>

    <!-- Main Layout -->
    <div class="flex min-h-screen">
        <!-- Desktop Sidebar -->
        <aside class="desktop-sidebar w-64 bg-card border-r border-border">
            <!-- @COMPONENT: DesktopSidebar -->
            <div class="flex h-full flex-col">
                <div class="flex items-center space-x-2 p-6 border-b border-border">
                    <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fas fa-chart-line text-primary-foreground text-sm"></i>
                    </div>
                    <span class="text-lg font-semibold">Exchange</span>
                </div>
                
                <nav class="flex-1 p-4 space-y-1">
                    <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg bg-secondary text-secondary-foreground">
                        <i class="fas fa-home w-5"></i>
                        <span>Home</span>
                    </a>
                    <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                        <i class="fas fa-compass w-5"></i>
                        <span>Explore</span>
                    </a>
                    <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                        <i class="fas fa-search w-5"></i>
                        <span>Search</span>
                    </a>
                    <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                        <i class="fas fa-chart-bar w-5"></i>
                        <span>Activity</span>
                    </a>
                    
                    <div class="py-2">
                        <div class="h-px bg-border"></div>
                    </div>
                    
                    <div class="px-3 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider">
                        Your Portfolio
                    </div>
                    <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                        <i class="fab fa-bitcoin w-5 text-orange-500"></i>
                        <span>Bitcoin</span>
                        <span class="ml-auto text-xs font-mono">0.0234</span>
                    </a>
                    <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                        <i class="fab fa-ethereum w-5 text-blue-400"></i>
                        <span>Ethereum</span>
                        <span class="ml-auto text-xs font-mono">1.247</span>
                    </a>
                </nav>
                
                <div class="border-t border-border p-4 space-y-1">
                    <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                        <i class="fas fa-users w-5"></i>
                        <span>Referrals</span>
                    </a>
                    <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                        <i class="fas fa-question-circle w-5"></i>
                        <span>Help</span>
                    </a>
                    <a href="#" class="flex items-center space-x-3 px-3 py-2.5 rounded-lg text-muted-foreground hover:bg-secondary hover:text-secondary-foreground transition-colors">
                        <i class="fas fa-user w-5"></i>
                        <span>Profile</span>
                    </a>
                </div>
            </div>
            <!-- @END_COMPONENT: DesktopSidebar -->
        </aside>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col lg:flex-row min-h-screen">
            <!-- Center Panel - Chart and Market Data -->
            <main class="flex-1 flex flex-col">
                <!-- Mobile Header -->
                <header class="lg:hidden flex items-center justify-between p-4 border-b border-border bg-card">
                    <button id="open-mobile-menu" class="text-muted-foreground hover:text-foreground">
                        <i class="fas fa-bars text-lg"></i>
                    </button>
                    <div class="flex items-center space-x-2">
                        <div class="w-6 h-6 bg-primary rounded flex items-center justify-center">
                            <i class="fas fa-chart-line text-primary-foreground text-xs"></i>
                        </div>
                        <span class="font-semibold">Exchange</span>
                    </div>
                    <div class="w-6"></div>
                </header>

                <!-- Market Ticker -->
                <div class="bg-muted border-b border-border overflow-hidden">
                    <!-- @COMPONENT: MarketTicker -->
                    <div class="ticker-scroll flex space-x-8 py-2 px-4 whitespace-nowrap">
                        <div class="flex items-center space-x-2">
                            <span class="text-sm font-medium">BTC/ZAR</span>
                            <span class="text-sm font-mono price-up">R1,202,500</span>
                            <span class="text-xs price-up">+2.34%</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="text-sm font-medium">ETH/ZAR</span>
                            <span class="text-sm font-mono price-up">R64,750</span>
                            <span class="text-xs price-up">+1.89%</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="text-sm font-medium">USDT/ZAR</span>
                            <span class="text-sm font-mono">R18.50</span>
                            <span class="text-xs price-down">-0.12%</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="text-sm font-medium">USD/ZAR</span>
                            <span class="text-sm font-mono">R18.50</span>
                            <span class="text-xs price-down">-0.08%</span>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: MarketTicker -->
                </div>

                <!-- Chart Section -->
                <section class="flex-1 p-6">
                    <!-- @COMPONENT: ChartPanel -->
                    <div class="h-full flex flex-col space-y-6">
                        <!-- Price Header -->
                        <div class="flex flex-col sm:flex-row sm:items-end sm:justify-between space-y-4 sm:space-y-0">
                            <div>
                                <div class="text-sm text-muted-foreground mb-1">Trading Pair</div>
                                <h1 class="text-3xl font-bold tracking-tight" data-bind="currentPair">BTC/ZAR</h1>
                            </div>
                            <div class="text-right">
                                <div class="text-4xl font-bold font-mono" data-bind="currentPrice">R1,202,500</div>
                                <div class="text-lg price-up" data-bind="priceChange">+R28,750 (+2.34%) today</div>
                            </div>
                        </div>

                        <!-- Chart Container -->
                        <div class="flex-1 min-h-[400px] bg-card rounded-xl border border-border p-4 chart-container">
                            <!-- Chart will be rendered here -->
                            <div id="chart-container" class="w-full h-full flex items-center justify-center">
                                <div class="text-center">
                                    <i class="fas fa-chart-line text-4xl text-muted-foreground mb-4"></i>
                                    <p class="text-muted-foreground">Real-time Price Chart</p>
                                    <p class="text-sm text-muted-foreground mt-2">Chart data loading...</p>
                                </div>
                            </div>
                        </div>

                        <!-- Chart Controls -->
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2">
                                <button class="px-3 py-1.5 text-sm bg-primary text-primary-foreground rounded-lg font-medium">1H</button>
                                <button class="px-3 py-1.5 text-sm text-muted-foreground hover:text-foreground rounded-lg">1D</button>
                                <button class="px-3 py-1.5 text-sm text-muted-foreground hover:text-foreground rounded-lg">1W</button>
                                <button class="px-3 py-1.5 text-sm text-muted-foreground hover:text-foreground rounded-lg">1M</button>
                                <button class="px-3 py-1.5 text-sm text-muted-foreground hover:text-foreground rounded-lg">1Y</button>
                            </div>
                            <div class="flex items-center space-x-2">
                                <button class="px-3 py-1.5 text-sm text-muted-foreground hover:text-foreground rounded-lg border border-border">
                                    <i class="fas fa-expand-arrows-alt mr-2"></i>Fullscreen
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- @END_COMPONENT: ChartPanel -->
                </section>
            </main>

            <!-- Right Panel - Trading -->
            <aside class="w-full lg:w-96 bg-card border-l border-border trading-panel">
                <!-- @COMPONENT: TradingPanel -->
                <div class="h-full flex flex-col">
                    <!-- Trading Tabs -->
                    <div class="p-4 border-b border-border">
                        <div class="grid grid-cols-3 gap-1 p-1 bg-muted rounded-lg">
                            <button id="buy-tab" class="px-3 py-2 text-sm font-medium rounded-md bg-primary text-primary-foreground transition-colors">
                                Buy
                            </button>
                            <button id="sell-tab" class="px-3 py-2 text-sm font-medium rounded-md text-muted-foreground hover:text-foreground transition-colors">
                                Sell
                            </button>
                            <button id="convert-tab" class="px-3 py-2 text-sm font-medium rounded-md text-muted-foreground hover:text-foreground transition-colors">
                                Convert
                            </button>
                        </div>
                    </div>

                    <!-- Trading Form -->
                    <div class="flex-1 p-4 space-y-4">
                        <!-- Buy Form -->
                        <div id="buy-form" class="space-y-4">
                            <!-- Pay With -->
                            <div>
                                <label class="block text-sm font-medium text-muted-foreground mb-2">Pay with</label>
                                <select class="w-full px-3 py-2.5 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring">
                                    <option value="ZAR">ZAR - South African Rand</option>
                                    <option value="USD">USD - US Dollar</option>
                                    <option value="EUR">EUR - Euro</option>
                                    <option value="GBP">GBP - British Pound</option>
                                </select>
                            </div>

                            <!-- Buy -->
                            <div>
                                <label class="block text-sm font-medium text-muted-foreground mb-2">Buy</label>
                                <select class="w-full px-3 py-2.5 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring">
                                    <option value="BTC">BTC - Bitcoin</option>
                                    <option value="ETH">ETH - Ethereum</option>
                                    <option value="USDT">USDT - Tether</option>
                                </select>
                            </div>

                            <!-- Amount -->
                            <div>
                                <label class="block text-sm font-medium text-muted-foreground mb-2">Amount (ZAR)</label>
                                <div class="relative">
                                    <input 
                                        type="text" 
                                        inputmode="decimal"
                                        placeholder="0.00"
                                        class="w-full px-3 py-2.5 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring pr-16"
                                        data-implementation="Real-time input validation and amount calculation"
                                    />
                                    <div class="absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground">
                                        ZAR
                                    </div>
                                </div>
                            </div>

                            <!-- Quick Amount Buttons -->
                            <div class="grid grid-cols-4 gap-2">
                                <button class="px-3 py-2 text-xs bg-muted text-muted-foreground rounded-lg hover:bg-accent hover:text-accent-foreground transition-colors">
                                    R500
                                </button>
                                <button class="px-3 py-2 text-xs bg-muted text-muted-foreground rounded-lg hover:bg-accent hover:text-accent-foreground transition-colors">
                                    R1K
                                </button>
                                <button class="px-3 py-2 text-xs bg-muted text-muted-foreground rounded-lg hover:bg-accent hover:text-accent-foreground transition-colors">
                                    R5K
                                </button>
                                <button class="px-3 py-2 text-xs bg-muted text-muted-foreground rounded-lg hover:bg-accent hover:text-accent-foreground transition-colors">
                                    Max
                                </button>
                            </div>

                            <!-- Order Summary -->
                            <div class="bg-muted rounded-lg p-4 space-y-3">
                                <div class="flex justify-between text-sm">
                                    <span class="text-muted-foreground">Rate</span>
                                    <span class="font-mono" data-bind="exchangeRate">1 ZAR = 0.0000008 BTC</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-muted-foreground">Fee (0.10%)</span>
                                    <span class="font-mono" data-bind="tradingFee">0.0000001 BTC</span>
                                </div>
                                <div class="h-px bg-border"></div>
                                <div class="flex justify-between font-semibold">
                                    <span>You receive</span>
                                    <span class="font-mono" data-bind="receiveAmount">0.0008320 BTC</span>
                                </div>
                            </div>

                            <!-- Buy Button -->
                            <button 
                                class="w-full bg-primary hover:bg-primary/90 text-primary-foreground font-semibold py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                                data-event="click:handleBuyPreview"
                                data-implementation="Should validate form and show preview modal"
                            >
                                Preview Buy Order
                            </button>
                        </div>

                        <!-- Sell Form (Hidden by default) -->
                        <div id="sell-form" class="space-y-4 hidden">
                            <!-- Similar structure to buy form but with reversed currency selection -->
                            <div>
                                <label class="block text-sm font-medium text-muted-foreground mb-2">Sell</label>
                                <select class="w-full px-3 py-2.5 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring">
                                    <option value="BTC">BTC - Bitcoin</option>
                                    <option value="ETH">ETH - Ethereum</option>
                                    <option value="USDT">USDT - Tether</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-muted-foreground mb-2">For</label>
                                <select class="w-full px-3 py-2.5 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring">
                                    <option value="ZAR">ZAR - South African Rand</option>
                                    <option value="USD">USD - US Dollar</option>
                                    <option value="EUR">EUR - Euro</option>
                                    <option value="GBP">GBP - British Pound</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-muted-foreground mb-2">Amount (BTC)</label>
                                <div class="relative">
                                    <input 
                                        type="text" 
                                        inputmode="decimal"
                                        placeholder="0.00000000"
                                        class="w-full px-3 py-2.5 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring pr-16"
                                    />
                                    <div class="absolute right-3 top-1/2 -translate-y-1/2 text-sm text-muted-foreground">
                                        BTC
                                    </div>
                                </div>
                            </div>

                            <div class="bg-muted rounded-lg p-4 space-y-3">
                                <div class="flex justify-between text-sm">
                                    <span class="text-muted-foreground">Rate</span>
                                    <span class="font-mono">1 BTC = 1,202,500 ZAR</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-muted-foreground">Fee (0.10%)</span>
                                    <span class="font-mono">R1,202 ZAR</span>
                                </div>
                                <div class="h-px bg-border"></div>
                                <div class="flex justify-between font-semibold">
                                    <span>You receive</span>
                                    <span class="font-mono">R1,201,298 ZAR</span>
                                </div>
                            </div>

                            <button class="w-full bg-destructive hover:bg-destructive/90 text-destructive-foreground font-semibold py-3 px-4 rounded-lg transition-colors">
                                Preview Sell Order
                            </button>
                        </div>

                        <!-- Convert Form (Hidden by default) -->
                        <div id="convert-form" class="space-y-4 hidden">
                            <div>
                                <label class="block text-sm font-medium text-muted-foreground mb-2">From</label>
                                <select class="w-full px-3 py-2.5 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring">
                                    <option value="BTC">BTC - Bitcoin</option>
                                    <option value="ETH">ETH - Ethereum</option>
                                    <option value="USDT">USDT - Tether</option>
                                    <option value="ZAR">ZAR - South African Rand</option>
                                    <option value="USD">USD - US Dollar</option>
                                    <option value="EUR">EUR - Euro</option>
                                    <option value="GBP">GBP - British Pound</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-muted-foreground mb-2">To</label>
                                <select class="w-full px-3 py-2.5 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring">
                                    <option value="ETH">ETH - Ethereum</option>
                                    <option value="BTC">BTC - Bitcoin</option>
                                    <option value="USDT">USDT - Tether</option>
                                    <option value="ZAR">ZAR - South African Rand</option>
                                    <option value="USD">USD - US Dollar</option>
                                    <option value="EUR">EUR - Euro</option>
                                    <option value="GBP">GBP - British Pound</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-muted-foreground mb-2">Amount (BTC)</label>
                                <input 
                                    type="text" 
                                    inputmode="decimal"
                                    placeholder="0.00000000"
                                    class="w-full px-3 py-2.5 bg-input border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring"
                                />
                            </div>

                            <div class="bg-muted rounded-lg p-4 space-y-3">
                                <div class="flex justify-between text-sm">
                                    <span class="text-muted-foreground">Rate</span>
                                    <span class="font-mono">1 BTC = 18.57 ETH</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-muted-foreground">Fee (0.10%)</span>
                                    <span class="font-mono">0.0186 ETH</span>
                                </div>
                                <div class="h-px bg-border"></div>
                                <div class="flex justify-between font-semibold">
                                    <span>You receive</span>
                                    <span class="font-mono">18.55 ETH</span>
                                </div>
                            </div>

                            <button class="w-full bg-primary hover:bg-primary/90 text-primary-foreground font-semibold py-3 px-4 rounded-lg transition-colors">
                                Preview Convert
                            </button>
                        </div>
                    </div>

                    <!-- Order History / Recent Activity -->
                    <div class="border-t border-border p-4">
                        <h3 class="text-sm font-semibold mb-3">Recent Activity</h3>
                        <div class="space-y-3 max-h-40 overflow-y-auto">
                            <div class="flex items-center justify-between text-sm" data-mock="true">
                                <div>
                                    <div class="font-medium">Bought BTC</div>
                                    <div class="text-xs text-muted-foreground">2 hours ago</div>
                                </div>
                                <div class="text-right">
                                    <div class="font-mono">0.00083 BTC</div>
                                    <div class="text-xs text-muted-foreground">R1,000</div>
                                </div>
                            </div>
                            <div class="flex items-center justify-between text-sm" data-mock="true">
                                <div>
                                    <div class="font-medium">Sold ETH</div>
                                    <div class="text-xs text-muted-foreground">1 day ago</div>
                                </div>
                                <div class="text-right">
                                    <div class="font-mono">0.5 ETH</div>
                                    <div class="text-xs text-muted-foreground">R32,375</div>
                                </div>
                            </div>
                            <div class="flex items-center justify-between text-sm" data-mock="true">
                                <div>
                                    <div class="font-medium">Converted BTC</div>
                                    <div class="text-xs text-muted-foreground">3 days ago</div>
                                </div>
                                <div class="text-right">
                                    <div class="font-mono">0.001 BTC → 0.0186 ETH</div>
                                    <div class="text-xs text-muted-foreground">Convert</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- @END_COMPONENT: TradingPanel -->
            </aside>
        </div>
    </div>

    <script>
        // Mobile menu functionality
        (function() {
            const openButton = document.getElementById('open-mobile-menu');
            const closeButton = document.getElementById('close-mobile-menu');
            const mobileSidebar = document.getElementById('mobile-sidebar');
            const overlay = document.getElementById('mobile-overlay');

            function openMobileMenu() {
                mobileSidebar.classList.add('open');
                overlay.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }

            function closeMobileMenu() {
                mobileSidebar.classList.remove('open');
                overlay.classList.add('hidden');
                document.body.style.overflow = '';
            }

            openButton?.addEventListener('click', openMobileMenu);
            closeButton?.addEventListener('click', closeMobileMenu);
            overlay?.addEventListener('click', closeMobileMenu);
        })();

        // Trading tab functionality
        (function() {
            const buyTab = document.getElementById('buy-tab');
            const sellTab = document.getElementById('sell-tab');
            const convertTab = document.getElementById('convert-tab');
            
            const buyForm = document.getElementById('buy-form');
            const sellForm = document.getElementById('sell-form');
            const convertForm = document.getElementById('convert-form');

            function switchTab(activeTab, activeForm) {
                // Reset all tabs
                [buyTab, sellTab, convertTab].forEach(tab => {
                    tab.classList.remove('bg-primary', 'text-primary-foreground');
                    tab.classList.add('text-muted-foreground', 'hover:text-foreground');
                });

                // Reset all forms
                [buyForm, sellForm, convertForm].forEach(form => {
                    form.classList.add('hidden');
                });

                // Activate selected tab and form
                activeTab.classList.add('bg-primary', 'text-primary-foreground');
                activeTab.classList.remove('text-muted-foreground', 'hover:text-foreground');
                activeForm.classList.remove('hidden');
            }

            buyTab?.addEventListener('click', () => switchTab(buyTab, buyForm));
            sellTab?.addEventListener('click', () => switchTab(sellTab, sellForm));
            convertTab?.addEventListener('click', () => switchTab(convertTab, convertForm));
        })();

        // TODO: Implement real-time price updates
        // TODO: Implement chart rendering with Recharts
        // TODO: Add form validation and calculation logic
        // TODO: Connect to exchange API for real data
        // TODO: Add WebSocket for real-time updates
        // TODO: Implement order preview modal
        // TODO: Add error handling and loading states
    </script>
</body>
</html>